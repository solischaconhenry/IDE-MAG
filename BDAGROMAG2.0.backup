--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.4
-- Dumped by pg_dump version 9.4.4
-- Started on 2016-10-29 21:15:20

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 186 (class 3079 OID 11855)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2087 (class 0 OID 0)
-- Dependencies: 186
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 176 (class 1259 OID 32386)
-- Name: form_preg; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE form_preg (
    idform smallint NOT NULL,
    idpreg smallint NOT NULL,
    orden smallint NOT NULL,
    pagina smallint NOT NULL
);


ALTER TABLE form_preg OWNER TO postgres;

--
-- TOC entry 173 (class 1259 OID 32366)
-- Name: formulario; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE formulario (
    idform integer NOT NULL,
    nombreform text NOT NULL,
    descripcion text NOT NULL,
    fecha date NOT NULL
);


ALTER TABLE formulario OWNER TO postgres;

--
-- TOC entry 172 (class 1259 OID 32364)
-- Name: formulario_idform_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE formulario_idform_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE formulario_idform_seq OWNER TO postgres;

--
-- TOC entry 2088 (class 0 OID 0)
-- Dependencies: 172
-- Name: formulario_idform_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE formulario_idform_seq OWNED BY formulario.idform;


--
-- TOC entry 183 (class 1259 OID 32633)
-- Name: opcion_multiple; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE opcion_multiple (
    idrespuesta smallint NOT NULL,
    idresp_preg smallint NOT NULL,
    valor text NOT NULL
);


ALTER TABLE opcion_multiple OWNER TO postgres;

--
-- TOC entry 185 (class 1259 OID 32780)
-- Name: opciones; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE opciones (
    idopc integer NOT NULL,
    orden smallint NOT NULL,
    opcion text NOT NULL,
    idpreg smallint NOT NULL
);


ALTER TABLE opciones OWNER TO postgres;

--
-- TOC entry 184 (class 1259 OID 32778)
-- Name: opciones_idopc_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE opciones_idopc_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE opciones_idopc_seq OWNER TO postgres;

--
-- TOC entry 2089 (class 0 OID 0)
-- Dependencies: 184
-- Name: opciones_idopc_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE opciones_idopc_seq OWNED BY opciones.idopc;


--
-- TOC entry 178 (class 1259 OID 32403)
-- Name: pagina; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE pagina (
    idpag integer NOT NULL,
    descripcion text NOT NULL,
    orden smallint NOT NULL
);


ALTER TABLE pagina OWNER TO postgres;

--
-- TOC entry 177 (class 1259 OID 32401)
-- Name: pagina_idpag_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE pagina_idpag_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE pagina_idpag_seq OWNER TO postgres;

--
-- TOC entry 2090 (class 0 OID 0)
-- Dependencies: 177
-- Name: pagina_idpag_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE pagina_idpag_seq OWNED BY pagina.idpag;


--
-- TOC entry 175 (class 1259 OID 32377)
-- Name: pregunta; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE pregunta (
    idpreg integer NOT NULL,
    titulo text NOT NULL,
    enunciadopreg text NOT NULL,
    categoria text NOT NULL,
    tipo text NOT NULL,
    fijo boolean NOT NULL,
    requerido boolean NOT NULL,
    mascara text
);


ALTER TABLE pregunta OWNER TO postgres;

--
-- TOC entry 174 (class 1259 OID 32375)
-- Name: pregunta_idpreg_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE pregunta_idpreg_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE pregunta_idpreg_seq OWNER TO postgres;

--
-- TOC entry 2091 (class 0 OID 0)
-- Dependencies: 174
-- Name: pregunta_idpreg_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE pregunta_idpreg_seq OWNED BY pregunta.idpreg;


--
-- TOC entry 182 (class 1259 OID 32614)
-- Name: resp_preg; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE resp_preg (
    idresp_preg integer NOT NULL,
    idrespuesta smallint NOT NULL,
    idpreg smallint NOT NULL,
    valor text NOT NULL
);


ALTER TABLE resp_preg OWNER TO postgres;

--
-- TOC entry 181 (class 1259 OID 32612)
-- Name: resp_preg_idresp_preg_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE resp_preg_idresp_preg_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE resp_preg_idresp_preg_seq OWNER TO postgres;

--
-- TOC entry 2092 (class 0 OID 0)
-- Dependencies: 181
-- Name: resp_preg_idresp_preg_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE resp_preg_idresp_preg_seq OWNED BY resp_preg.idresp_preg;


--
-- TOC entry 180 (class 1259 OID 32427)
-- Name: respuesta; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE respuesta (
    idrespuesta integer NOT NULL,
    idform smallint NOT NULL,
    fecha date NOT NULL,
    hora time without time zone NOT NULL
);


ALTER TABLE respuesta OWNER TO postgres;

--
-- TOC entry 179 (class 1259 OID 32425)
-- Name: respuesta_idrespuesta_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE respuesta_idrespuesta_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE respuesta_idrespuesta_seq OWNER TO postgres;

--
-- TOC entry 2093 (class 0 OID 0)
-- Dependencies: 179
-- Name: respuesta_idrespuesta_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE respuesta_idrespuesta_seq OWNED BY respuesta.idrespuesta;


--
-- TOC entry 1925 (class 2604 OID 32369)
-- Name: idform; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY formulario ALTER COLUMN idform SET DEFAULT nextval('formulario_idform_seq'::regclass);


--
-- TOC entry 1930 (class 2604 OID 32783)
-- Name: idopc; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opciones ALTER COLUMN idopc SET DEFAULT nextval('opciones_idopc_seq'::regclass);


--
-- TOC entry 1927 (class 2604 OID 32406)
-- Name: idpag; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY pagina ALTER COLUMN idpag SET DEFAULT nextval('pagina_idpag_seq'::regclass);


--
-- TOC entry 1926 (class 2604 OID 32380)
-- Name: idpreg; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY pregunta ALTER COLUMN idpreg SET DEFAULT nextval('pregunta_idpreg_seq'::regclass);


--
-- TOC entry 1929 (class 2604 OID 32617)
-- Name: idresp_preg; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY resp_preg ALTER COLUMN idresp_preg SET DEFAULT nextval('resp_preg_idresp_preg_seq'::regclass);


--
-- TOC entry 1928 (class 2604 OID 32430)
-- Name: idrespuesta; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY respuesta ALTER COLUMN idrespuesta SET DEFAULT nextval('respuesta_idrespuesta_seq'::regclass);


--
-- TOC entry 2070 (class 0 OID 32386)
-- Dependencies: 176
-- Data for Name: form_preg; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY form_preg (idform, idpreg, orden, pagina) FROM stdin;
28	9	0	8
\.


--
-- TOC entry 2067 (class 0 OID 32366)
-- Dependencies: 173
-- Data for Name: formulario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY formulario (idform, nombreform, descripcion, fecha) FROM stdin;
24	formuli	lñwjefo	1912-12-12
25	efwe	ñrefgjwpo	0123-03-12
26	erf	lijljl	1932-02-23
27	oejrgopj	pojopwepñfo	0123-12-12
28	ñlñl	mñlmlñmñm	1934-02-13
\.


--
-- TOC entry 2094 (class 0 OID 0)
-- Dependencies: 172
-- Name: formulario_idform_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('formulario_idform_seq', 28, true);


--
-- TOC entry 2077 (class 0 OID 32633)
-- Dependencies: 183
-- Data for Name: opcion_multiple; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY opcion_multiple (idrespuesta, idresp_preg, valor) FROM stdin;
\.


--
-- TOC entry 2079 (class 0 OID 32780)
-- Dependencies: 185
-- Data for Name: opciones; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY opciones (idopc, orden, opcion, idpreg) FROM stdin;
1	1	A	11
2	2	B	11
3	3	AB	11
4	1	F	12
5	2	M	12
\.


--
-- TOC entry 2095 (class 0 OID 0)
-- Dependencies: 184
-- Name: opciones_idopc_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('opciones_idopc_seq', 1, false);


--
-- TOC entry 2072 (class 0 OID 32403)
-- Dependencies: 178
-- Data for Name: pagina; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY pagina (idpag, descripcion, orden) FROM stdin;
8	sdf	1
\.


--
-- TOC entry 2096 (class 0 OID 0)
-- Dependencies: 177
-- Name: pagina_idpag_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('pagina_idpag_seq', 8, true);


--
-- TOC entry 2069 (class 0 OID 32377)
-- Dependencies: 175
-- Data for Name: pregunta; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY pregunta (idpreg, titulo, enunciadopreg, categoria, tipo, fijo, requerido, mascara) FROM stdin;
9	Edad	Edad	Datos generales	input	t	t	text
8	Cedula	Cedula	Datos generales	input	t	t	text
10	FechaN	FechaN	Datos generales	input	t	t	text
1	Nombre	Nombre	Terreno	input	t	t	text
11	Tipo sangre	Tipo de sangre	Datos generales	radio	f	t	radio
12	Sexo	Sexo	Datos generales	checkbox	f	t	checkbox
\.


--
-- TOC entry 2097 (class 0 OID 0)
-- Dependencies: 174
-- Name: pregunta_idpreg_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('pregunta_idpreg_seq', 10, true);


--
-- TOC entry 2076 (class 0 OID 32614)
-- Dependencies: 182
-- Data for Name: resp_preg; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY resp_preg (idresp_preg, idrespuesta, idpreg, valor) FROM stdin;
\.


--
-- TOC entry 2098 (class 0 OID 0)
-- Dependencies: 181
-- Name: resp_preg_idresp_preg_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('resp_preg_idresp_preg_seq', 1, false);


--
-- TOC entry 2074 (class 0 OID 32427)
-- Dependencies: 180
-- Data for Name: respuesta; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY respuesta (idrespuesta, idform, fecha, hora) FROM stdin;
\.


--
-- TOC entry 2099 (class 0 OID 0)
-- Dependencies: 179
-- Name: respuesta_idrespuesta_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('respuesta_idrespuesta_seq', 1, false);


--
-- TOC entry 1937 (class 2606 OID 34667)
-- Name: form_preg_id; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY form_preg
    ADD CONSTRAINT form_preg_id PRIMARY KEY (idform, idpreg, pagina);


--
-- TOC entry 1932 (class 2606 OID 32374)
-- Name: formulario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY formulario
    ADD CONSTRAINT formulario_pkey PRIMARY KEY (idform);


--
-- TOC entry 1945 (class 2606 OID 32640)
-- Name: opcion_multiple_id; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY opcion_multiple
    ADD CONSTRAINT opcion_multiple_id PRIMARY KEY (idrespuesta, idresp_preg);


--
-- TOC entry 1947 (class 2606 OID 32788)
-- Name: opciones_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY opciones
    ADD CONSTRAINT opciones_pkey PRIMARY KEY (idopc);


--
-- TOC entry 1939 (class 2606 OID 32411)
-- Name: pagina_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY pagina
    ADD CONSTRAINT pagina_pkey PRIMARY KEY (idpag);


--
-- TOC entry 1934 (class 2606 OID 32385)
-- Name: pregunta_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY pregunta
    ADD CONSTRAINT pregunta_pkey PRIMARY KEY (idpreg);


--
-- TOC entry 1943 (class 2606 OID 32622)
-- Name: resp_preg_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY resp_preg
    ADD CONSTRAINT resp_preg_pkey PRIMARY KEY (idresp_preg);


--
-- TOC entry 1941 (class 2606 OID 32432)
-- Name: respuesta_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY respuesta
    ADD CONSTRAINT respuesta_pkey PRIMARY KEY (idrespuesta);


--
-- TOC entry 1935 (class 1259 OID 34665)
-- Name: fki_form_pag_fkey; Type: INDEX; Schema: public; Owner: postgres; Tablespace: 
--

CREATE INDEX fki_form_pag_fkey ON form_preg USING btree (pagina);


--
-- TOC entry 1950 (class 2606 OID 34660)
-- Name: form_pag_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_preg
    ADD CONSTRAINT form_pag_fkey FOREIGN KEY (pagina) REFERENCES pagina(idpag);


--
-- TOC entry 1948 (class 2606 OID 32391)
-- Name: form_preg_idform_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_preg
    ADD CONSTRAINT form_preg_idform_fkey FOREIGN KEY (idform) REFERENCES formulario(idform) ON DELETE CASCADE;


--
-- TOC entry 1949 (class 2606 OID 32396)
-- Name: form_preg_idpreg_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_preg
    ADD CONSTRAINT form_preg_idpreg_fkey FOREIGN KEY (idpreg) REFERENCES pregunta(idpreg) ON DELETE CASCADE;


--
-- TOC entry 1955 (class 2606 OID 32646)
-- Name: opcion_multiple_idresp_preg_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opcion_multiple
    ADD CONSTRAINT opcion_multiple_idresp_preg_fkey FOREIGN KEY (idresp_preg) REFERENCES resp_preg(idresp_preg) ON DELETE CASCADE;


--
-- TOC entry 1954 (class 2606 OID 32641)
-- Name: opcion_multiple_idrespuesta_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opcion_multiple
    ADD CONSTRAINT opcion_multiple_idrespuesta_fkey FOREIGN KEY (idrespuesta) REFERENCES respuesta(idrespuesta) ON DELETE CASCADE;


--
-- TOC entry 1956 (class 2606 OID 32789)
-- Name: opciones_idpreg_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY opciones
    ADD CONSTRAINT opciones_idpreg_fkey FOREIGN KEY (idpreg) REFERENCES pregunta(idpreg) ON DELETE CASCADE;


--
-- TOC entry 1953 (class 2606 OID 32628)
-- Name: resp_preg_idpreg_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY resp_preg
    ADD CONSTRAINT resp_preg_idpreg_fkey FOREIGN KEY (idpreg) REFERENCES pregunta(idpreg) ON DELETE CASCADE;


--
-- TOC entry 1952 (class 2606 OID 32623)
-- Name: resp_preg_idrespuesta_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY resp_preg
    ADD CONSTRAINT resp_preg_idrespuesta_fkey FOREIGN KEY (idrespuesta) REFERENCES respuesta(idrespuesta) ON DELETE CASCADE;


--
-- TOC entry 1951 (class 2606 OID 32433)
-- Name: respuesta_idform_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY respuesta
    ADD CONSTRAINT respuesta_idform_fkey FOREIGN KEY (idform) REFERENCES formulario(idform) ON DELETE CASCADE;


--
-- TOC entry 2086 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2016-10-29 21:15:21

--
-- PostgreSQL database dump complete
--

